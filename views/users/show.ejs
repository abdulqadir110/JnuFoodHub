<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/showStyles.css">
    <link rel="stylesheet" href="/css/footer.css">
    <title>User Dashboard</title>
</head>

<body>

    <header>
        <h1><%= user.name %></h1>
        <form method="get" action="\users">
            <button >Logout</button>
        </form>    
    </header>

    <main>
        <div class="center-buttons">
            <button class="update-button" onclick="showUpdateSlide()">Update</button>
            <button class="delete-button" onclick="showdeleteSlide()">Delete Account</button>
        </div>
    
        <section id="orderHistory" class="box">
            <h2>Order History</h2>
            <ul id="orderList">
                <li>Order #1</li>
                <li>Order #2</li>
                <li>Order #3</li>
            </ul>
        </section>

        <section id="orderDetails" class="box">
            <h2>Order Details</h2>
            <div id="detailsContainer">
                <p>Details for Order #1</p>
            </div>
        </section>
        

        <!-- Update Slide/Modal -->
        <div id="updateSlide">
            <div id="updateForm">
                <h2>Update Information</h2>

                <form method="post" action="/users/<%= user._id %>?_method=PUT">
                    <label for="updateName">Name:</label>
                    <input type="text" id="updateName" name="user[name]" value="<%= user.name %>" required>

                    <label for="updateEmail">Email:</label>
                    <input type="email" id="updateEmail" name="user[email]" value="<%= user.email %>" required>

                    <label for="updateCenter">Your Center:</label>
                    <input type="text" id="updateCenter" name="user[center]" value="<%= user.center %>" required>

                    <label for="updateEnrollmentId">Enrollment ID:</label>
                    <input type="text" id="updateEnrollmentId" name="user[enrollment_id]" value="<%= user.enrollment_id %>" required>

                    <label for="Password">Password:</label>
                    <input type="password" id="Password" name="user[password]" placeholder="Enter your Password" required>

                    <label for="updateAddress">Address:</label>
                    <input type="text" id="updateAddress" name="user[address]" value="<%= user.address %>">

                    <label for="updateContact">Contact:</label>
                    <input type="tel" id="updateContact" name="user[contact_no]" value="<%= user.contact_no %>" required>

                <button type="submit" >Update</button>
                <button type="button" onclick="hideUpdateSlide()">Cancel</button>
                </form>
            </div>
        </div>

        <div id="deleteSlide">
            <div id="deleteForm">
                <h2>delete your account</h2>
                <form method="post" action="/users/<%= user._id %>?_method=DELETE">
                    <label for="password">password:</label>
                    <input type="text" id="password" name="password" placeholder="Enter your password">
                    <button type="submit">delete</button>
                    <button type="button" onclick="hidedeleteSlide()">Cancel</button>
                </form>
            </div>
        </div>

    </main>

    <%- include("../includes/footer.ejs") %>

    <script src="/js/showScripts.js"></script>

</body>
</html>
